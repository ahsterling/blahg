<div ng-controller="homeController">

  <div class="col-sm-3">

    <h3>Search by Content:</h3>
    <input type="text" ng-model = "query">

    <h3>Search by title:</h3>
    <input type="text" ng-model="search.title">
    <hr>
    <h3>Sort Results By:</h3>
    <select ng-model="orderProp">
      <option value="-date">Most Recent</option>
      <option value="title">Title</option>
    </select>
    <hr>
    <h3>Filter By:</h3>
    <span ng-class="{'selected': isSelected}" ng-init="isSelected=false" ng-repeat="tag in tags" class="tag" ng-click="isSelected=!isSelected">
      <span ng-click="setTagFilter(tag.id)">{{tag.name}}</span>

    </span>
    {{tagFilter}}
  </div>
  <div class="col-sm-6">
    <ul class="posts">
      <li class="post" ng-repeat="post in posts | filter:query | filter:search:strict | filter:postHasTag | orderBy:orderProp">

        <h2>
          <a ui-sref="show({id: post.id})">{{post.title}}</a>
        </h2>

        <h4>{{post.date | date: 'longDate'}}</h4>
        <p>{{post.content}}</p>
        <span class="tag" ng-repeat="tag_id in post.tag_ids"> {{getTagName(tag_id)}}</span>

      </li>
      <hr>
    </ul>
  </div>
</div>
